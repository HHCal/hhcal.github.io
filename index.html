<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Happy Hacking Calendar</title>
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/atom-one-light.min.css">
<link rel="stylesheet" href="css/prism.css">
<script src="js/vue.js"></script>
</head>
<body>
<div v-cloak id="page" v-bind:class="pageClass" v-on:mouseleave="updateCode()">
    <h1><div v-bind:contenteditable="!pageClass.preview" id="lang">{{lang}}</div></h1>
    <label id="highlight-label" for="highlight">Highlight:</label>
    <select id="highlight" class="lang-name" v-model="langName">
        <optgroup>
            <option value="markup">Markup</option>
            <option value="css">CSS</option>
            <option value="clike">C-like</option>
            <option value="javascript">JavaScript</option>
            <option value="abap">ABAP</option>
            <option value="actionscript">ActionScript</option>
            <option value="ada">Ada</option>
            <option value="apacheconf">Apache</option>
            <option value="apl">APL</option>
            <option value="applescript">AppleScript</option>
            <option value="arduino">Arduino</option>
            <option value="asciidoc">AsciiDoc</option>
            <option value="asm6502">6502</option>
            <option value="aspnet">ASP.NET</option>
            <option value="autohotkey">AutoHotkey</option>
            <option value="autoit">AutoIt</option>
            <option value="bash">Bash</option>
            <option value="basic">BASIC</option>
            <option value="batch">Batch</option>
            <option value="bison">Bison</option>
            <option value="brainfuck">Brainfuck</option>
            <option value="bro">Bro</option>
            <option value="c">C</option>
            <option value="csharp">C#</option>
            <option value="cpp">C++</option>
            <option value="coffeescript">CoffeeScript</option>
            <option value="crystal">Crystal</option>
            <option value="css-extras">CSS</option>
            <option value="d">D</option>
            <option value="dart">Dart</option>
            <option value="django">Django/Jinja2</option>
            <option value="diff">Diff</option>
            <option value="docker">Docker</option>
            <option value="eiffel">Eiffel</option>
            <option value="elixir">Elixir</option>
            <option value="elm">Elm</option>
            <option value="erlang">Erlang</option>
            <option value="fsharp">F#</option>
            <option value="flow">Flow</option>
            <option value="fortran">Fortran</option>
            <option value="gherkin">Gherkin</option>
            <option value="git">Git</option>
            <option value="glsl">GLSL</option>
            <option value="go">Go</option>
            <option value="graphql">GraphQL</option>
            <option value="groovy">Groovy</option>
            <option value="haml">Haml</option>
            <option value="handlebars">Handlebars</option>
            <option value="haskell">Haskell</option>
            <option value="haxe">Haxe</option>
            <option value="http">HTTP</option>
            <option value="ichigojam">IchigoJam</option>
            <option value="icon">Icon</option>
            <option value="inform7">Inform</option>
            <option value="ini">Ini</option>
            <option value="io">Io</option>
            <option value="j">J</option>
            <option value="java">Java</option>
            <option value="jolie">Jolie</option>
            <option value="json">JSON</option>
            <option value="julia">Julia</option>
            <option value="keyman">Keyman</option>
            <option value="kotlin">Kotlin</option>
            <option value="latex">LaTeX</option>
            <option value="less">Less</option>
            <option value="livescript">LiveScript</option>
            <option value="lolcode">LOLCODE</option>
            <option value="lua">Lua</option>
            <option value="makefile">Makefile</option>
            <option value="markdown">Markdown</option>
            <option value="matlab">MATLAB</option>
            <option value="mel">MEL</option>
            <option value="mizar">Mizar</option>
            <option value="monkey">Monkey</option>
            <option value="n4js">N4JS</option>
            <option value="nasm">NASM</option>
            <option value="nginx">nginx</option>
            <option value="nim">Nim</option>
            <option value="nix">Nix</option>
            <option value="nsis">NSIS</option>
            <option value="objectivec">Objective-C</option>
            <option value="ocaml">OCaml</option>
            <option value="opencl">OpenCL</option>
            <option value="oz">Oz</option>
            <option value="parigp">PARI/GP</option>
            <option value="parser">Parser</option>
            <option value="pascal">Pascal</option>
            <option value="perl">Perl</option>
            <option value="php">PHP</option>
            <option value="php-extras">PHP</option>
            <option value="powershell">PowerShell</option>
            <option value="processing">Processing</option>
            <option value="prolog">Prolog</option>
            <option value="properties">.properties</option>
            <option value="protobuf">Protocol</option>
            <option value="pug">Pug</option>
            <option value="puppet">Puppet</option>
            <option value="pure">Pure</option>
            <option value="python">Python</option>
            <option value="q">Q</option>
            <option value="qore">Qore</option>
            <option value="r">R</option>
            <option value="jsx">React</option>
            <option value="renpy">Ren'py</option>
            <option value="reason">Reason</option>
            <option value="rest">reST</option>
            <option value="rip">Rip</option>
            <option value="roboconf">Roboconf</option>
            <option value="ruby">Ruby</option>
            <option value="rust">Rust</option>
            <option value="sas">SAS</option>
            <option value="sass">Sass</option>
            <option value="scss">Sass</option>
            <option value="scala">Scala</option>
            <option value="scheme">Scheme</option>
            <option value="smalltalk">Smalltalk</option>
            <option value="smarty">Smarty</option>
            <option value="sql">SQL</option>
            <option value="stylus">Stylus</option>
            <option value="swift">Swift</option>
            <option value="tcl">Tcl</option>
            <option value="textile">Textile</option>
            <option value="twig">Twig</option>
            <option value="typescript">TypeScript</option>
            <option value="vbnet">VB.Net</option>
            <option value="verilog">Verilog</option>
            <option value="vhdl">VHDL</option>
            <option value="vim">vim</option>
            <option value="wiki">Wiki</option>
            <option value="xeora">Xeora</option>
            <option value="xojo">Xojo</option>
            <option value="yaml">YAML</option>
        </optgroup>
    </select>
    <div class="main-date">2018-{{dates[0].d}}</div>
    <div class="meta">
    <span class="main-week">Mon</span>
    <span v-bind:class="{'main-lunar': true, red: dates[0].r}">{{dates[0].l}}</span>
    </div>
    <pre id="pre"><code id="code" v-bind:class="langClass">{{code}}</code></pre>
    <textarea id="codeBox" v-model="code" spellcheck="false"></textarea>
    <div class="description" v-bind:contenteditable="!pageClass.preview" id="desc">{{desc}}</div>
    <ul class="date">
    <li>
    <div class="week">Mon</div>
    <div class="date">{{dates[0].d}}</div>
    <div v-bind:class="{lunar: true, red: dates[0].r}">{{dates[0].l}}</div>
    </li>
    <li>
    <div class="week">Tue</div>
    <div class="date">{{dates[1].d}}</div>
    <div v-bind:class="{lunar: true, red: dates[1].r}">{{dates[1].l}}</div>
    </li>
    <li>
    <div class="week">Wed</div>
    <div class="date">{{dates[2].d}}</div>
    <div v-bind:class="{lunar: true, red: dates[2].r}">{{dates[2].l}}</div>
    </li>
    <li>
    <div class="week">Thu</div>
    <div class="date">{{dates[3].d}}</div>
    <div v-bind:class="{lunar: true, red: dates[3].r}">{{dates[3].l}}</div>
    </li>
    <li>
    <div class="week">Fri</div>
    <div class="date">{{dates[4].d}}</div>
    <div v-bind:class="{lunar: true, red: dates[4].r}">{{dates[4].l}}</div>
    </li>
    <li>
    <div class="week red">Sat</div>
    <div class="date">{{dates[5].d}}</div>
    <div v-bind:class="{lunar: true, red: dates[5].r}">{{dates[5].l}}</div>
    </li>
    <li>
    <div class="week red">Sun</div>
    <div class="date">{{dates[6].d}}</div>
    <div v-bind:class="{lunar: true, red: dates[6].r}">{{dates[6].l}}</div>
    </li>
    </ul>
    <form enctype="application/json" id="form" action="https://hhcal.azurewebsites.net/api/hhcal" method="post" target="save">
        <input type="hidden" name="lang" v-model="langName">
        <input type="hidden" name="title" v-model="lang">
        <textarea style="display:none" name="code" v-model="code"></textarea>
        <input type="hidden" name="desc" v-model="desc">
        <button type="button" v-on:click="preview()">{{ pageClass.preview ? 'Edit' : 'Preview' }}</button>
        <button type="submit" v-on:mouseenter="updateCode()">Share</button>
    </form>
</div>
<iframe src="about:blank" id="save" name="save"></iframe>
<script src="js/date.js"></script>
<script src="js/main.js"></script>
<script>
var prism = document.createElement('script');
prism.src = 'js/prism.js';
document.body.appendChild(prism);

function updateScale() {
    var height = window.innerHeight - 100;
    var width = window.innerWidth - 60;
    var scale = Math.min(height / 528, width / 400);
    document.getElementById('page').style.transform = 'scale(' + scale + ')';
}

updateScale();
window.onresize = updateScale;
</script>
</body>
</html>